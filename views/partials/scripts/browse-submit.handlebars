(function(){
    var browseResults = $('#browse-results');
    $('#browse-form').on('submit', function (jqueryEvent) {
        jqueryEvent.preventDefault();
    
        $.get(
            '/api/browse',
            $(this).serialize(),
            function (res) {
                syncResults(res);
            }
        );
    });

    function syncResults (res) {
        browseResults.empty();
        res.forEach(function (result) {
            var browseResultItem = `{{> browse/browse-result-item itemType="${result.itemType}" summary="${result.summary}"}}`;

            browseResults.append(browseResultItem);
        })
    }
})();